local commands = require("LYRD.layers.commands")
local mappings = require("LYRD.layers.mappings")
local c = commands.command_shortcut

local L = {
	name = "LYRD Commands",
	cmd = {
		LYRDUnimplementedCommands = { default = commands.list_unimplemented, desc = "" },
		LYRDImplementedCommands = { default = commands.list_implemented, desc = "" },
		LYRDBufferNew = { default = ":enew", desc = "" },
		LYRDBufferSave = { default = ":w", desc = "" },
		LYRDBufferSaveAll = { default = ":wall", desc = "" },
		LYRDBufferClose = { default = ":bd", desc = "" },
		LYRDBufferForceClose = { default = ":bd!", desc = "" },
		LYRDBufferCloseAll = { default = ":bufdo bd", desc = "" },
		LYRDBufferForceCloseAll = { default = ":bufdo bd!", desc = "" },
		LYRDBufferFormat = { desc = "" },
		LYRDBufferJumpToLast = { default = ":b#", desc = "Jump to last buffer" },
		LYRDBufferNext = { default = ":bn", desc = "" },
		LYRDBufferPrev = { default = ":bp", desc = "Previous Buffer" },
		LYRDBufferSplitV = { default = ":vsplit", desc = "" },
		LYRDBufferSplitH = { default = ":split", desc = "" },
		LYRDBufferSetReadOnly = { default = ":setl readonly!", desc = "" },
		LYRDBufferCopy = { default = ':normal! ggVG"+y``', desc = "" },
		LYRDBufferPaste = { default = ':normal! ggdG"+P', desc = "" },
		LYRDBufferToggleWrap = { default = ":setlocal wrap!", desc = "" },
		LYRDWindowClose = { default = ":q", desc = "" },
		LYRDWindowCloseAll = { default = ":qa", desc = "" },
		LYRDWindowForceCloseAll = { default = ":qa!", desc = "" },
		LYRDViewHomePage = { desc = "" },
		LYRDViewRegisters = { desc = "" },
		LYRDViewLocationList = { desc = "" },
		LYRDViewQuickFixList = { default = ":cope", desc = "" },
		LYRDViewYankList = { desc = "" },
		LYRDViewFileTree = { desc = "" },
		LYRDViewFileExplorer = { desc = "" },
		LYRDPluginsInstall = { default = ":PackerInstall", desc = "" },
		LYRDPluginsUpdate = { default = ":PackerSync", desc = "" },
		LYRDPluginsClean = { default = ":PackerClean", desc = "" },
		LYRDTerminal = { default = ":terminal", desc = "" },
		LYRDSearchFiles = { desc = "" },
		LYRDSearchBuffers = { desc = "Search buffers" },
		LYRDSearchGitFiles = { desc = "" },
		LYRDSearchRecentFiles = { desc = "" },
		LYRDSearchBufferLines = { desc = "" },
		LYRDSearchCommandHistory = { desc = "" },
		LYRDSearchKeyMappings = { desc = "" },
		LYRDSearchBufferTags = { desc = "" },
		LYRDSearchLiveGrep = { desc = "" },
		LYRDSearchFiletypes = { desc = "" },
		LYRDSearchColorSchemes = { desc = "" },
		LYRDSearchQuickFixes = { desc = "" },
		LYRDSearchRegisters = { desc = "" },
		LYRDSearchHighlights = { desc = "" },
		LYRDSearchCurrentString = { desc = "" },
		LYRDSearchCommands = { desc = "" },
		LYRDGitModifiedFiles = { desc = "" },
		LYRDGitBranches = { desc = "" },
		LYRDGitCommits = { desc = "" },
		LYRDGitBufferCommits = { desc = "" },
		LYRDGitStash = { desc = "" },
		LYRDGitStatus = { desc = "" },
		LYRDGitStageCurrentFile = { desc = "" },
		LYRDGitUnstageCurrentFile = { desc = "" },
		LYRDGitCommit = { desc = "" },
		LYRDGitWrite = { desc = "" },
		LYRDGitPush = { desc = "" },
		LYRDGitPull = { desc = "" },
		LYRDGitViewDiff = { desc = "" },
		LYRDGitStageAll = { desc = "" },
		LYRDGitViewBlame = { desc = "" },
		LYRDGitRemove = { desc = "" },
		LYRDGitViewCurrentFileLog = { desc = "" },
		LYRDGitViewLog = { desc = "" },
		LYRDGitBrowseOnWeb = { desc = "" },
		LYRDGitFlowInit = { desc = "" },
		LYRDGitFlowFeatureStart = { desc = "" },
		LYRDGitFlowFeatureFinish = { desc = "" },
		LYRDGitFlowReleaseStart = { desc = "" },
		LYRDGitFlowReleaseFinish = { desc = "" },
		LYRDGitFlowHotfixStart = { desc = "" },
		LYRDGitFlowHotfixFinish = { desc = "" },
		LYRDGitCheckoutMain = { desc = "" },
		LYRDGitCheckoutDev = { desc = "" },
		LYRDLSPFindReferences = { desc = "" },
		LYRDLSPFindDocumentSymbols = { desc = "" },
		LYRDLSPFindWorkspaceSymbols = { desc = "" },
		LYRDLSPFindCodeActions = { desc = "" },
		LYRDLSPFindRangeCodeActions = { desc = "" },
		LYRDLSPFindLineDiagnostics = { desc = "" },
		LYRDLSPFindDocumentDiagnostics = { desc = "" },
		LYRDLSPFindWorkspaceDiagnostics = { desc = "" },
		LYRDLSPFindImplementations = { desc = "" },
		LYRDLSPFindDefinitions = { desc = "" },
		LYRDLSPFindDeclaration = { desc = "" },
		LYRDLSPHoverInfo = { desc = "" },
		LYRDLSPSignatureHelp = { desc = "" },
		LYRDLSPFindTypeDefinition = { desc = "" },
		LYRDLSPRename = { desc = "" },
		LYRDLSPGotoNextDiagnostic = { desc = "" },
		LYRDLSPGotoPrevDiagnostic = { desc = "" },
		LYRDLSPShowDocumentDiagnosticLocList = { desc = "" },
		LYRDLSPShowWorkspaceDiagnosticLocList = { desc = "" },
		LYRDCodeInsertSnippet = { desc = "" },
		LYRDTest = { desc = "" },
		LYRDTestSuite = { desc = "" },
		LYRDTestFile = { desc = "" },
		LYRDTestFunc = { desc = "" },
		LYRDTestLast = { desc = "" },
		LYRDTestSummary = { desc = "" },
		LYRDCodeBuild = { desc = "" },
		LYRDCodeRun = { desc = "" },
		LYRDTestCoverage = { desc = "" },
		LYRDDebugContinue = { desc = "" },
		LYRDDebugStepInto = { desc = "" },
		LYRDDebugStepOver = { desc = "" },
		LYRDDebugStop = { desc = "" },
		LYRDDebugBreakpoint = { desc = "" },
		LYRDDebugToggleUI = { desc = "" },
		LYRDDebugToggleRepl = { desc = "" },
		LYRDCodeAlternateFile = { desc = "" },
		LYRDCodeFixImports = { desc = "" },
		LYRDCodeGlobalCheck = { desc = "" },
		LYRDCodeImplementInterface = { desc = "" },
		LYRDCodeFillStructure = { desc = "" },
		LYRDCodeGenerate = { desc = "" },
		LYRDCodeRefactor = { desc = "" },
		LYRDCodeProduceGetter = { desc = "" },
		LYRDCodeProduceSetter = { desc = "" },
		LYRDCodeProduceMapping = { desc = "" },
		LYRDBreakLine = { default = ":s/[,(]/&\r/ge|:noh|:'[,']normal==", desc = "" },
		LYRDSmartCoder = { desc = "" },
	},
}

function L.settings(s)
	commands.register(s, L.cmd)
end

function L.keybindings(s)
	mappings.space_menu(s, {
		{ { "g" }, "Git Repository" },
		{ { "g", "f" }, "Gitflow" },
		{ { "a" }, "Application" },
		{ { "b" }, "Buffers" },
		{ { "c" }, "Code" },
		{ { "c", "g" }, "Code Generation" },
		{ { "t" }, "Test" },
		{ { "d" }, "Debug" },
		{ { "p" }, "Plugins" },
		{ { "q" }, "Quit" },
		{ { "s" }, "Search" },
		{ { "u" }, "User interface" },
		{ { "v" }, "View" },
	})
	mappings.space(s, {
		{ "n", { "<Tab>" }, L.cmd.LYRDBufferJumpToLast },
		{ "n", { "/" }, L.cmd.LYRDSearchBuffers },
		{ "n", { "," }, L.cmd.LYRDBufferPrev },
		{ "n", { "." }, c("LYRDBufferNext"), "Next buffer" },
		-- View Menu
		{ "n", { "v", "." }, c("LYRDViewHomePage"), "Home page" },
		{ "n", { "v", "t" }, c("LYRDViewFileTree"), "Toggle file tree" },
		{ "n", { "v", "e" }, c("LYRDViewFileExplorer"), "Explore files" },
		{ "n", { "v", "l" }, c("LYRDViewLocationList"), "Location list" },
		{ "n", { "v", "r" }, c("LYRDViewRegisters"), "Registers" },
		{ "n", { "v", "y" }, c("LYRDViewYankList"), "Yank list" },
		{ "n", { "v", "q" }, c("LYRDViewQuickFixList"), "QuickFix" },
		{ "n", { "v", "d" }, c("LYRDLSPShowDocumentDiagnosticLocList"), "Document diagnostics" },
		{ "n", { "v", "D" }, c("LYRDLSPShowWorkspaceDiagnosticLocList"), "Workspace diagnostics" },
		-- Buffer Menu
		{ "n", { "b", "e" }, c("LYRDBufferNew"), "New empty buffer" },
		{ "n", { "b", "n" }, c("LYRDBufferNext"), "Next buffer" },
		{ "n", { "b", "p" }, c("LYRDBufferPrev"), "Previous buffer" },
		{ "n", { "b", "d" }, c("LYRDBufferClose"), "Close buffer" },
		{ "n", { "b", "D" }, c("LYRDBufferForceClose"), "Force close buffer" },
		{ "n", { "b", "f" }, c("LYRDBufferFormat"), "Format document" },
		{ "n", { "b", "x" }, c("LYRDBufferCloseAll"), "Close all buffers" },
		{ "n", { "b", "X" }, c("LYRDBufferForceCloseAll"), "Force close all buffers" },
		{ "n", { "b", "h" }, c("LYRDBufferSplitH"), "Horizonal split" },
		{ "n", { "b", "v" }, c("LYRDBufferSplitV"), "Vertical split" },
		{ "n", { "b", "w" }, c("LYRDBufferSetReadOnly"), "Toggle read only mode" },
		{ "n", { "b", "Y" }, c("LYRDBufferCopy"), "Copy whole buffer to clipboard" },
		{ "n", { "b", "P" }, c("LYRDBufferPaste"), "Paste clipboard to whole buffer" },
		{ "n", { "b", "/" }, L.cmd.LYRDSearchBuffers },
		{ "n", { "b", "s" }, c("LYRDBufferSave"), "Save current file" },
		{ "n", { "b", "S" }, c("LYRDBufferSaveAll"), "Save all files" },
		-- Application Menu
		{ "n", { "a", "i" }, c("LYRDPluginsInstall"), "Install plugins" },
		{ "n", { "a", "u" }, c("LYRDPluginsUpdate"), "Update plugins" },
		{ "n", { "a", "c" }, c("LYRDPluginsClean"), "Clean plugins" },
		{ "n", { "a", "t" }, c("LYRDTerminal"), "Terminal" },
		-- Quit Menu
		{ "n", { "q", "." }, c("LYRDWindowClose"), "Close window" },
		{ "n", { "q", "q" }, c("LYRDWindowForceCloseAll"), "Quit" },
		{ "n", { "q", "Q" }, c("LYRDWindowForceCloseAll"), "Force Quit" },
		-- UI Menu
		{ "n", { "u", "w" }, c("LYRDBufferToggleWrap"), "Toggle line wrap" },
		-- Search Menu
		{ "n", { "s", "." }, L.cmd.LYRDSearchFiles },
		{ "n", { "s", "b" }, c("LYRDSearchBuffers"), "Buffers" },
		{ "n", { "s", "g" }, c("LYRDSearchGitFiles"), "Git Files" },
		{ "n", { "s", "h" }, c("LYRDSearchRecentFiles"), "Recent files" },
		{ "n", { "s", "l" }, c("LYRDSearchBufferLines"), "Lines" },
		{ "n", { "s", "c" }, c("LYRDSearchCommandHistory"), "Recent comands" },
		{ "n", { "s", "m" }, c("LYRDSearchKeyMappings"), "Key Maps" },
		{ "n", { "s", "t" }, c("LYRDSearchBufferTags"), "Tags" },
		{ "n", { "s", "/" }, c("LYRDSearchLiveGrep"), "Live grep" },
		{ "n", { "s", "f" }, c("LYRDSearchFiletypes"), "Filetypes" },
		{ "n", { "s", "o" }, c("LYRDSearchColorSchemes"), "Color Schemes" },
		{ "n", { "s", "q" }, c("LYRDSearchQuickFixes"), "Quick Fixes" },
		{ "n", { "s", "H" }, c("LYRDSearchHighlights"), "Highlights" },
		{ "n", { "s", "," }, c("LYRDSearchCommands"), "Commands" },
		{ "n", { "s", "s" }, c("LYRDSearchCurrentString"), "Current string in files" },
		{ "n", { "s", "p" }, c("LYRDSearchRegisters"), "Registers" },
		-- Git Menu
		{ "n", { "g", "m" }, c("LYRDGitModifiedFiles"), "Modified files" },
		{ "n", { "g", "B" }, c("LYRDGitBranches"), "Branches" },
		{ "n", { "g", "s" }, c("LYRDGitStatus"), "Status" },
		{ "n", { "g", "S" }, c("LYRDGitStageCurrentFile"), "Stage current file" },
		{ "n", { "g", "U" }, c("LYRDGitUnstageCurrentFile"), "Unstage current file" },
		{ "n", { "g", "c" }, c("LYRDGitCommit"), "Commit changes" },
		{ "n", { "g", "w" }, c("LYRDGitWrite"), "Write" },
		{ "n", { "g", "p" }, c("LYRDGitPush"), "Push" },
		{ "n", { "g", "P" }, c("LYRDGitPull"), "Pull" },
		{ "n", { "g", "d" }, c("LYRDGitViewDiff"), "View diff" },
		{ "n", { "g", "a" }, c("LYRDGitStageAll"), "Stage all" },
		{ "n", { "g", "b" }, c("LYRDGitViewBlame"), "View blame" },
		{ "n", { "g", "r" }, c("LYRDGitRemove"), "Remove" },
		{ "n", { "g", "V" }, c("LYRDGitViewCurrentFileLog"), "Current file log" },
		{ "n", { "g", "v" }, c("LYRDGitViewLog"), "File log" },
		{ "n", { "g", "o" }, c("LYRDGitBrowseOnWeb"), "Browse line on web" },
		{ "n", { "g", "f", "i" }, c("LYRDGitFlowInit"), "Init" },
		{ "n", { "g", "f", "f" }, c("LYRDGitFlowFeatureStart"), "Feature start" },
		{ "n", { "g", "f", "F" }, c("LYRDGitFlowFeatureFinish"), "Feature finish" },
		{ "n", { "g", "f", "r" }, c("LYRDGitFlowReleaseStart"), "Release start" },
		{ "n", { "g", "f", "R" }, c("LYRDGitFlowReleaseFinish"), "Release finish" },
		{ "n", { "g", "f", "h" }, c("LYRDGitFlowHotfixStart"), "Hotfix start" },
		{ "n", { "g", "f", "H" }, c("LYRDGitFlowHotfixFinish"), "Hotfix finish" },
		{ "n", { "g", "f", "D" }, c("LYRDGitCheckoutDev"), "Checkout Develop branch" },
		{ "n", { "g", "f", "M" }, c("LYRDGitCheckoutMain"), "Checkout Main branch" },
		-- Code Menu
		{ "n", { "c", "a" }, c("LYRDLSPFindCodeActions"), "Actions" },
		{ "n", { "c", "A" }, c("LYRDLSPFindRangeCodeActions"), "Range Actions" },
		{ "n", { "c", "b" }, c("LYRDCodeBuild"), "Build" },
		{ "n", { "c", "r" }, c("LYRDCodeRun"), "Run" },
		{ "n", { "c", "R" }, c("LYRDCodeRefactor"), "Refactor" },
		{ "n", { "c", "t" }, c("LYRDCodeAlternateFile"), "Toggle alternate file" },
		{ "n", { "c", "i" }, c("LYRDCodeFixImports"), "Fix imports" },
		{ "n", { "c", "c" }, c("LYRDCodeGlobalCheck"), "Global check" },
		{ "n", { "c", "I" }, c("LYRDCodeImplementInterface"), "Implement interface" },
		{ "n", { "c", "s" }, c("LYRDCodeFillStructure"), "Fill structure" },
		{ "n", { "c", "S" }, c("LYRDCodeInsertSnippet"), "Insert snippet" },
		{ "n", { "c", "g", "x" }, c("LYRDCodeGenerate"), "Run Generator Tool" },
		{ "n", { "c", "g", "g" }, c("LYRDCodeProduceGetter"), "Generate getters code" },
		{ "n", { "c", "g", "s" }, c("LYRDCodeProduceSetter"), "Generate setters code" },
		{ "n", { "c", "g", "m" }, c("LYRDCodeProduceMapping"), "Generate mappings code" },
		-- Test menu
		{ "n", { "t", "t" }, c("LYRDTest"), "Test everything" },
		{ "n", { "t", "s" }, c("LYRDTestSuite"), "Test suite" },
		{ "n", { "t", "F" }, c("LYRDTestFile"), "Test current file" },
		{ "n", { "t", "f" }, c("LYRDTestFunc"), "Test current function" },
		{ "n", { "t", "l" }, c("LYRDTestLast"), "Repeat last test" },
		{ "n", { "t", "c" }, c("LYRDTestCoverage"), "Test Coverage" },
		{ "n", { "t", "v" }, c("LYRDTestSummary"), "View test summary" },

		-- Debug Menu
		{ "n", { "d", "c" }, c("LYRDDebugContinue"), "Start / Continue" },
		{ "n", { "d", "i" }, c("LYRDDebugStepInto"), "Step into" },
		{ "n", { "d", "o" }, c("LYRDDebugStepOver"), "Step over" },
		{ "n", { "d", "s" }, c("LYRDDebugStop"), "Stop" },
		{ "n", { "d", "b" }, c("LYRDDebugBreakpoint"), "Toggle breakpoint" },
		{ "n", { "d", "u" }, c("LYRDDebugToggleUI"), "Toggle Debug UI" },
		{ "n", { "d", "r" }, c("LYRDDebugToggleRepl"), "Toggle Debug Repl" },
	})
end

return L
